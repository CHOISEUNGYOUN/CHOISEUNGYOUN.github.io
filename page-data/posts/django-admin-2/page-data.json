{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/django-admin-2/","webpackCompilationHash":"a3e93a012f77aa794865","result":{"data":{"markdownRemark":{"id":"ecac814a-f158-5ded-850a-27b346c52490","html":"<ul>\n<li>\n<h3 id=\"관련-포스팅-django-admin-1\"><a href=\"#%EA%B4%80%EB%A0%A8-%ED%8F%AC%EC%8A%A4%ED%8C%85-django-admin-1\" aria-label=\"관련 포스팅 django admin 1 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>관련 포스팅 <a href=\"https://choiseungyoun.github.io/posts/django-admin-1/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Django admin-1</a></h3>\n</li>\n</ul>\n<p>저번 포스팅에서 예고했듯이, 이번에는 데이터 정렬, 다대다 테이블을 보여주는 옵션들을 한번 살펴보자.</p>\n<h3 id=\"1-list_filter\"><a href=\"#1-list_filter\" aria-label=\"1 list_filter permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. list_filter</h3>\n<p><a href=\"https://docs.djangoproject.com/en/3.0/ref/contrib/admin/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Django</a> 공식문서에 따르면, <code class=\"language-text\">admin class</code>에 <code class=\"language-text\">list_filter</code> 를 지정해 주면, 해당 값으로 필터링 할 수 있는 사이드바가 생긴다. 해당 필터는 튜플 또는 리스트로 지정해주면 되며, 해당 기능을 사용함으로써, admin에서 원하는 조건대로 정렬해서 볼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token decorator annotation punctuation\">@admin<span class=\"token punctuation\">.</span>register</span><span class=\"token punctuation\">(</span>models<span class=\"token punctuation\">.</span>Room<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">RoomAdmin</span><span class=\"token punctuation\">(</span>admin<span class=\"token punctuation\">.</span>ModelAdmin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    list_filter <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token string\">\"instant_book\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"host__superhost\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"room_type\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"amenities\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"facilities\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"house_rules\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"country\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"city\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"2-ordering\"><a href=\"#2-ordering\" aria-label=\"2 ordering permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. ordering</h3>\n<p>ordering은 <code class=\"language-text\">admin</code>에서 어떤 속성들을 기준으로 순차적으로 정렬 할 것인지 조건을 부여 하는것인데, <code class=\"language-text\">view class</code>에서 자주 사용하는 <code class=\"language-text\">ordered_by</code>와 거의 비슷하다고 보면 된다. 역시, 튜플 또는 리스트로 해당 조건을 지정해 주며, 인덱스 순서대로 우선순위 정렬이 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token decorator annotation punctuation\">@admin<span class=\"token punctuation\">.</span>register</span><span class=\"token punctuation\">(</span>models<span class=\"token punctuation\">.</span>Room<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">RoomAdmin</span><span class=\"token punctuation\">(</span>admin<span class=\"token punctuation\">.</span>ModelAdmin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    ordering <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"price\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"bedrooms\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"3-filterhorizontal--filtervertical\"><a href=\"#3-filterhorizontal--filtervertical\" aria-label=\"3 filterhorizontal  filtervertical permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. filter<em>horizontal &#x26; filter</em>vertical</h3>\n<p>기본적으로 다대다 테이블은 admin panel 에 컬럼, 인덱스 형식으로 lookup이 되지 않는다. 대신에, <code class=\"language-text\">filter_horizontal</code>과 <code class=\"language-text\">filter_vertical</code>이 존재하는데, 해당 기능을 통해 모델간 연결되어있는 다대다 관계 데이터들을 볼 수 있다. 여기서 horizontal과 vertical의 차이는 단지 말 그대로 좌우로 보여줄것인지, 상하로 보여줄것인지에 대한 차이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token decorator annotation punctuation\">@admin<span class=\"token punctuation\">.</span>register</span><span class=\"token punctuation\">(</span>models<span class=\"token punctuation\">.</span>Room<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">RoomAdmin</span><span class=\"token punctuation\">(</span>admin<span class=\"token punctuation\">.</span>ModelAdmin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    filter_horizontal <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token string\">\"amenities\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"facilities\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"house_rules\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span></code></pre></div>\n<p>이렇게 테이블을 정렬해 놓는다면, admin 기능을 적극 사용하는 Django 유저라면 얼마든지 편리하게 데이터를 관리할 수 있다!!!</p>\n<p>*Reference:\n<a href=\"https://docs.djangoproject.com/en/3.0/ref/contrib/admin/#django.contrib.admin.ModelAdmin.filter_vertical\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">The Django admin site</a></p>","fields":{"slug":"/posts/django-admin-2/","tagSlugs":["/tag/django/","/tag/python/","/tag/django-admin/"]},"frontmatter":{"date":"2020-02-28T20:40:32.169Z","description":"Django admin 에 대해서 알아보자-2","tags":["Django","Python","Django admin"],"title":"Django admin-2"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/django-admin-2/"}}}